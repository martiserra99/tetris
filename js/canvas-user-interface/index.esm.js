const e=window.devicePixelRatio||1;class t{constructor(e){this.started=!1,this.animationId=null,this.mouseSignals=[],this.keySignals=[],this.element=null,this.setCanvas(e),this.setCanvasSize(),this.setCanvasSizeOnResize()}setCanvas(e){this.canvas="string"==typeof e?document.querySelector(e):e,this.ctx=this.canvas.getContext("2d")}setCanvasSize(){const{width:t,height:n}=this.canvas.getBoundingClientRect();this.width=t,this.height=n,this.canvas.width=t*e,this.canvas.height=n*e,this.ctx.scale(e,e)}setCanvasSizeOnResize(){this.resizeListener=this.setCanvasSize.bind(this),window.addEventListener("resize",this.resizeListener)}start(e){this.started&&this.end(),this.insertElement(e),this.startAnimation(),this.setupSignals(),this.started=!0}insertElement(e){e.insertToUI(this)}startAnimation(){const e=()=>{this.animationId=requestAnimationFrame(e),this.updateUI()};e()}updateUI(){this.clearCanvas(),this.element.start(),this.element.measure(this.getMaxSize()),this.element.locate(this.getCoords()),this.element.draw(this.ctx),this.element.end()}getMaxSize(){return{width:this.width,height:this.height}}getCoords(){return{x:0,y:0}}setupSignals(){this.setupMouseSignals(),this.setupKeySignals()}setupMouseSignals(){const e=this.getMouseSignalTypes();for(const t of e){const e=e=>{const n=this.getMouseSignalData(e);this.element.signal({type:t,data:n})};this.mouseSignals.push({type:t,callback:e}),this.canvas.addEventListener(t,e)}}getMouseSignalTypes(){return["mousedown","mouseup","mousemove","mouseenter","mouseleave"]}getMouseSignalData(e){return{x:e.offsetX,y:e.offsetY}}setupKeySignals(){const e=this.getKeySignalTypes();for(const t of e){const e=e=>{if(e.repeat)return;const n=this.getKeySignalData(e);this.element.signal({type:t,data:n})};this.keySignals.push({type:t,callback:e}),window.addEventListener(t,e)}}getKeySignalTypes(){return["keydown","keyup"]}getKeySignalData(e){return e.key}end(){this.started&&(this.removeSignals(),this.stopAnimation(),this.removeElement(),this.started=!1)}removeSignals(){this.removeMouseSignals(),this.removeKeySignals()}removeMouseSignals(){for(const{type:e,callback:t}of this.mouseSignals)this.canvas.removeEventListener(e,t);this.mouseSignals=[]}removeKeySignals(){for(const{type:e,callback:t}of this.keySignals)window.removeEventListener(e,t);this.keySignals=[]}stopAnimation(){cancelAnimationFrame(this.animationId),this.animationId=null,this.clearCanvas()}removeElement(){this.element=null}clearCanvas(){const e=this.getCoords(),t=this.getMaxSize();this.ctx.clearRect(e.x,e.y,t.width,t.height)}}let n=class{constructor(){this.events=new Map,this.add()}[Symbol.iterator](){return this.events[Symbol.iterator]()}set(e,t){this.events.set(e,{check:t,callbacks:[]})}get(e){return this.events.get(e)}add(){this.click(),this.mousedown(),this.mouseup(),this.mouseenter(),this.mouseleave(),this.mousemove(),this.keydown(),this.keyup()}click(){this.set("click",(function(e,t,n){if("mousedown"!==t.type&&"mouseup"!==t.type)return{event:!1};const s=i(t.data,e);if("mousedown"===t.type)return n.set("wasMouseDown",s),{event:!1};const r=n.get("wasMouseDown",!1);return{event:s&&r,data:t.data}}))}mousedown(){this.set("mousedown",(function(e,t){if("mousedown"!==t.type)return{event:!1};return i(t.data,e)?{event:!0,data:t.data}:{event:!1}}))}mouseup(){this.set("mouseup",(function(e,t){if("mouseup"!==t.type)return{event:!1};return i(t.data,e)?{event:!0,data:t.data}:{event:!1}}))}mouseenter(){this.set("mouseenter",(function(e,t,n){if("mouseleave"===t.type&&n.set("wasOut",!0),"mousemove"!==t.type)return{event:!1};const s=i(t.data,e),r=n.get("wasOut",!0),o=s&&r;return n.set("wasOut",!s),{event:o,data:t.data}}))}mouseleave(){this.set("mouseleave",(function(e,t,n){if("mouseleave"===t.type)return n.set("wasIn",!1),{event:!0,data:t.data};if("mousemove"!==t.type)return{event:!1};const s=!i(t.data,e),r=n.get("wasIn",!1),o=s&&r;return n.set("wasIn",!s),{event:o,data:t.data}}))}mousemove(){this.set("mousemove",(function(e,t){if("mousemove"!==t.type)return{event:!1};return i(t.data,e)?{event:!0,data:t.data}:{event:!1}}))}keydown(){this.set("keydown",(function(e,t){return"keydown"!==t.type?{event:!1}:{event:!0,data:t.data}}))}keyup(){this.set("keyup",(function(e,t){return"keyup"!==t.type?{event:!1}:{event:!0,data:t.data}}))}};function i(e,t){return e.x>=t.coords.x&&e.y>=t.coords.y&&e.x<=t.coords.x+t.size.width&&e.y<=t.coords.y+t.size.height}let s=class{constructor(){this.properties=new Map,this.functions=new Map}set(e,t){this.properties.set(e,t)}get(e){return this.properties.get(e)}fun(e,t){this.functions.set(e,t)}call(e,...t){return this.functions.get(e)(...t)}};class r{constructor(e){this.name=e,this.properties=new Map,this.functions=new Map,this.lifecycle=this.getLifecycle(),this.inner=new s,this.events=new n}getLifecycle(){return new o}set(e,t){this.properties.set(e,t)}fun(e,t){this.functions.set(e,t)}}class o{constructor(){this.lifecycle=new Map,this.setFunctions()}setFunctions(){this.lifecycle.set("onCreate",(()=>{})),this.lifecycle.set("onStart",(()=>{})),this.lifecycle.set("onMeasure",(()=>{})),this.lifecycle.set("onLocate",(()=>{})),this.lifecycle.set("onDraw",(()=>{})),this.lifecycle.set("onEnd",(()=>{}))}[Symbol.iterator](){return this.lifecycle[Symbol.iterator]()}set(e,t){this.lifecycle.has(e)&&this.lifecycle.set(e,t)}}class a extends r{getLifecycle(){return new l}}class l extends o{setFunctions(){super.setFunctions();this.lifecycle.set("getSize",(()=>({width:0,height:0})));this.lifecycle.set("drawItself",(()=>{}))}}class c extends r{constructor(e){super(e),this.layoutParams=new g}getLifecycle(){return new h}}class h extends o{setFunctions(){super.setFunctions();this.lifecycle.set("sortChildrenToMeasure",(e=>e.children));this.lifecycle.set("getChildMaxSize",(()=>({width:0,height:0})));this.lifecycle.set("getSize",(()=>({width:0,height:0})));this.lifecycle.set("sortChildrenToLocate",(e=>e.children));this.lifecycle.set("getChildCoords",((e,t)=>t));this.lifecycle.set("drawItself",(()=>{}));this.lifecycle.set("sortChildrenToDraw",(e=>e.children))}}let g=class{constructor(){this.layoutParams=new Map}[Symbol.iterator](){return this.layoutParams[Symbol.iterator]()}set(e,t){this.layoutParams.set(e,t)}};class u extends r{getLifecycle(){return new d}}class d extends o{setFunctions(){super.setFunctions();this.lifecycle.set("getElement",(()=>{}));this.lifecycle.set("updateElement",(()=>{}))}}function f(e){return JSON.parse(JSON.stringify(e))}function m(e,t){const n=e.findIndex((e=>e===t));return-1!==n&&(e.splice(n,1),!0)}class y{constructor(e,t){this.element=e,this.properties=new Map,this.functions=new Map,this.setProperties(t.properties),this.setFunctions(t.functions)}setProperties(e){for(const[t,n]of e)this.properties.set(t,f(n))}setFunctions(e){for(const[t,n]of e)this.functions.set(t,n.bind(this.element,this.element))}set(e,t){this.properties.set(e,t)}get(e){return this.properties.get(e)}fun(e,t){this.functions.set(e,t.bind(this.element,this.element))}call(e,...t){return this.functions.get(e)(...t)}}class z{constructor(e){this.element=e,this.properties=new Map,this.functions=new Map}set(e,t){this.properties.set(e,t)}get(e){return this.properties.get(e)}fun(e,t){this.functions.set(e,t.bind(this.element,this.element))}call(e,...t){return this.functions.get(e)(...t)}}class p{constructor(e){this.events=new Map,this.setEvents(e)}setEvents(e){for(const[t,{check:n,callbacks:i}]of e)this.events.set(t,{check:n,state:new w,callbacks:[...i]})}[Symbol.iterator](){return this.events[Symbol.iterator]()}get(e){return this.events.get(e)}}class w{constructor(){this.keys=new Map}set(e,t){this.keys.set(e,t)}get(e,t){return this.has(e)?this.keys.get(e):t}del(e){this.keys.delete(e)}has(e){return this.keys.has(e)}}class C{constructor(e){this.events=e}add(e,t){this.events.get(e).callbacks.push(t)}remove(e,t){return m(this.events.get(e).callbacks,t)}removeAll(e){const t=this.events.get(e).callbacks;t.splice(0,t.length)}}class v{constructor(e){this.layoutParent=e.layoutParent,this.layoutParams=new Map,this.setLayoutParams()}setLayoutParams(){for(const[e,t]of this.layoutParent.childLayoutParams)this.layoutParams.set(e,f(t))}set(e,t){this.layoutParams.has(e)&&this.layoutParams.set(e,t)}get(e){return this.layoutParams.get(e)}}class x{get layoutParams(){return this.layoutParameters}constructor(e,t){this.id=e,this.size={width:0,height:0},this.coords={x:0,y:0},this.properties=new Map,this.functions=new Map,this.lifecycle=new Map,this.setProperties(t.properties),this.setFunctions(t.functions),this.setLifecycle(t.lifecycle),this.inner=new y(this,t.inner),this.custom=new z(this),this.events=new p(t.events),this.listeners=new C(this.events),this.lifecycle.get("onCreate")()}setProperties(e){for(const[t,n]of e)this.properties.set(t,f(n))}setFunctions(e){for(const[t,n]of e)this.functions.set(t,n.bind(this,this))}setLifecycle(e){for(const[t,n]of e)this.lifecycle.set(t,n.bind(this,this))}set(e,t){this.properties.has(e)&&this.properties.set(e,t)}get(e){return this.properties.get(e)}fun(e,t){this.functions.set(e,t.bind(this,this))}call(e,...t){return this.functions.get(e)(...t)}insertToUI(e){this.removeFromUI(),this.removeFromLayout(),e.element=this,this.uiParent=e}removeFromUI(){this.uiParent&&(this.uiParent.element=null),delete this.uiParent,this.resetPlacementData()}insertToLayout(e){this.removeFromUI(),this.removeFromLayout(),e.children.push(this),this.layoutParent=e,this.layoutParameters=new v(this)}removeFromLayout(){this.layoutParent&&m(this.layoutParent.children,this),delete this.layoutParent,delete this.layoutParameters,this.resetPlacementData()}resetPlacementData(){this.size={width:0,height:0},this.coords={x:0,y:0}}start(){this.lifecycle.get("onStart")()}measure(e){this.lifecycle.get("onMeasure")(e)}locate(e){this.lifecycle.get("onLocate")(e)}draw(e){this.lifecycle.get("onDraw")(e)}end(){this.lifecycle.get("onEnd")()}signal(e){for(const[,{check:t,state:n,callbacks:i}]of this.events){const{event:s,data:r}=t(this,e,n);if(s)for(const e of i)e(this,r)}}}class S extends x{constructor(e,t){super(e,t)}measure(e){super.measure(e),this.setSize(e)}setSize(e){this.size=this.lifecycle.get("getSize")(e)}locate(e){super.locate(e),this.setCoords(e)}setCoords(e){this.coords=e}draw(e){super.draw(e),this.drawItself(e)}drawItself(e){this.lifecycle.get("drawItself")(e)}}class P extends x{constructor(e,t){super(e,t),this.children=[],this.childLayoutParams=new Map,this.setChildLayoutParams(t)}setChildLayoutParams(e){for(const[t,n]of e.layoutParams)this.childLayoutParams.set(t,n)}start(){super.start();for(const e of this.children)e.start()}measure(e){super.measure(e),this.setChildrenSizes(e),this.setSize(e)}setChildrenSizes(e){const t=this.sortChildrenToMeasure(e),n=[];for(const i of t){const t=this.getChildMaxSize(e,i,n);i.measure(t),n.push(i)}}sortChildrenToMeasure(e){return this.lifecycle.get("sortChildrenToMeasure")(e)}getChildMaxSize(e,t,n){return this.lifecycle.get("getChildMaxSize")(e,t,n)}setSize(e){this.size=this.lifecycle.get("getSize")(e)}locate(e){super.locate(e),this.setChildrenCoords(e),this.setCoords(e)}setChildrenCoords(e){const t=this.sortChildrenToLocate(e),n=[];for(const i of t){const t=this.getChildCoords(e,i,n);i.locate(t),n.push(i)}}sortChildrenToLocate(e){return this.lifecycle.get("sortChildrenToLocate")(e)}getChildCoords(e,t,n){return this.lifecycle.get("getChildCoords")(e,t,n)}setCoords(e){this.coords=e}draw(e){super.draw(e),this.drawItself(e),this.drawChildren(e)}drawItself(e){this.lifecycle.get("drawItself")(e)}drawChildren(e){const t=this.sortChildrenToDraw(e);for(const n of t)n.draw(e)}sortChildrenToDraw(e){return this.lifecycle.get("sortChildrenToDraw")(e)}end(){super.end();for(const e of this.children)e.end()}signal(e){super.signal(e);for(const t of this.children)t.signal(e)}insert(e){e.insertToLayout(this)}remove(e){this.children.includes(e)&&e.removeFromLayout()}removeAll(){for(const e of[...this.children])e.removeFromLayout()}find(e,t=!1){const n=[...this.children];for(;n.length>0;){const i=n.shift();if(i.id===e)return i;i instanceof P&&!t&&n.push(...i.children)}return null}}class b extends x{constructor(e,t){super(e,t),this.child=this.lifecycle.get("getElement")()}start(){super.start(),this.lifecycle.get("updateElement")(this.child),this.child.start()}measure(e){super.measure(e),this.child.measure(e),this.size=this.child.size}locate(e){super.locate(e),this.child.locate(e),this.coords=e}draw(e){super.draw(e),this.child.draw(e)}end(){super.end(),this.child.end()}signal(e){super.signal(e),this.child.signal(e)}}const M={length(e,t,n=()=>0){let i=null===e?n():e;return i>t&&(i=t),i<0&&(i=0),i},availableLength:(e,t)=>null===e?t:e<t?e:t,desiredLength(e,t){if("auto"===e)return null;const{unit:n,value:i}=e;return"px"===n?i:t*(i/100)},size(e,t,n={width:()=>0,height:()=>0}){return{width:this.length(e.width,t.width,n.width),height:this.length(e.height,t.height,n.height)}},availableSize(e,t){return{width:this.availableLength(e.width,t.width),height:this.availableLength(e.height,t.height)}},desiredSize(e,t){return{width:this.desiredLength(e.width,t.width),height:this.desiredLength(e.height,t.height)}},textSize(e,t){const n=document.createElement("canvas").getContext("2d");return n.font=`${t.weight} ${t.size}px ${t.family}`,{width:n.measureText(e).width,height:t.size}}},T={area(e,t,n,i,s,r){const o={x:t.x+s.size/2,y:t.y+s.size/2},a=n.width-s.size,l=n.height-s.size,c={width:a,height:l};let h=r.size;r.size>a/2&&(h=a/2),r.size>l/2&&(h=l/2),h<0&&(h=0);const g={type:r.type,size:h};e.save(),e.beginPath(),e.fillStyle=i,e.strokeStyle=s.color,e.lineWidth=s.size,this._areaPath(e,o,c,g),e.fill(),s.size>0&&e.stroke(),e.restore()},_areaPath(e,t,n,i){e.moveTo(t.x,t.y+n.height-i.size),this._leftEdgePath(e,t,i),this._topLeftCornerPath(e,t,i),this._topEdgePath(e,t,n,i),this._topRightCornerPath(e,t,n,i),this._rightEdgePath(e,t,n,i),this._bottomRightCornerPath(e,t,n,i),this._bottomEdgePath(e,t,n,i),this._bottomLeftCornerPath(e,t,n,i),e.closePath()},_leftEdgePath(e,t,n){e.lineTo(t.x,t.y+n.size)},_topLeftCornerPath(e,t,n){const i={x:t.x,y:t.y+n.size},s={x:t.x+n.size,y:t.y};"round"===n.type?e.arcTo(i.x,i.y-n.size,s.x,s.y,n.size):e.lineTo(s.x,s.y)},_topEdgePath(e,t,n,i){e.lineTo(t.x+n.width-i.size,t.y)},_topRightCornerPath(e,t,n,i){const s={x:t.x+n.width-i.size,y:t.y},r={x:t.x+n.width,y:t.y+i.size};"round"===i.type?e.arcTo(s.x+i.size,s.y,r.x,r.y,i.size):e.lineTo(r.x,r.y)},_rightEdgePath(e,t,n,i){e.lineTo(t.x+n.width,t.y+n.height-i.size)},_bottomRightCornerPath(e,t,n,i){const s={x:t.x+n.width,y:t.y+n.height-i.size},r={x:t.x+n.width-i.size,y:t.y+n.height};"round"===i.type?e.arcTo(s.x,s.y+i.size,r.x,r.y,i.size):e.lineTo(r.x,r.y)},_bottomEdgePath(e,t,n,i){e.lineTo(t.x+i.size,t.y+n.height)},_bottomLeftCornerPath(e,t,n,i){const s={x:t.x+i.size,y:t.y+n.height},r={x:t.x,y:t.y+n.height-i.size};"round"===i.type?e.arcTo(s.x-i.size,s.y,r.x,r.y,i.size):e.lineTo(r.x,r.y)},rectangle(e,t,n,i){const{x:s,y:r}=t,{width:o,height:a}=n;e.save(),e.fillStyle=i,e.fillRect(s,r,o,a),e.restore()},text(e,t,n,i,s,r,o){e.save(),e.beginPath(),e.rect(t.x,t.y,n.width,n.height),e.clip(),e.font=`${r.weight} ${r.size}px ${r.family}`,e.fillStyle=o,e.textBaseline="top",e.fillText(s,i.x,i.y),e.restore()},image(e,t,n,i){const{x:s,y:r}=t,{width:o,height:a}=n;e.drawImage(i,s,r,o,a)}};const L={alignStart:(e,t,n={start:0,end:0})=>e.start+n.start,alignMiddle:(e,t,n={start:0,end:0})=>e.start+(e.end-e.start)/2-(t+n.start+n.end)/2+n.start,alignEnd:(e,t,n={start:0,end:0})=>e.end-t-n.end};function k(){!function(){const e=G.view.newType("area");e.set("size",{width:{unit:"px",value:100},height:{unit:"px",value:100}}),e.set("background","#000"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.lifecycle.set("getSize",(function(e,t){const n=M.desiredSize(e.get("size"),t);return M.size(n,t)})),e.lifecycle.set("drawItself",(function(e,t){const n=e.coords,i=e.size,s=e.get("background"),r=e.get("border"),o=e.get("corner");T.area(t,n,i,s,r,o)}))}(),function(){const e=G.view.newType("text");e.set("text","Text"),e.set("font",{size:16,family:"Courier New",weight:400}),e.set("color","#000"),e.set("align",{vertical:"middle",horizontal:"left"}),e.lifecycle.set("onMeasure",(function(e){const t=M.textSize(e.get("text"),e.get("font"));e.inner.set("textSize",t)})),e.lifecycle.set("getSize",(function(e,t){return M.size(e.inner.get("textSize"),t)})),e.lifecycle.set("onLocate",(function(e,t){const n=e.inner.call("getTextCoords",t);e.inner.set("textCoords",n)})),e.inner.fun("getTextCoords",(function(e,t){return{x:e.inner.call("getTextX",t),y:e.inner.call("getTextY",t)}})),e.inner.fun("getTextX",(function(e,t){const n=t.x,i={start:n,end:n+e.size.width},s=e.inner.get("textSize").width,r=e.get("align").horizontal;return"left"===r?L.alignStart(i,s):"middle"===r?L.alignMiddle(i,s):L.alignEnd(i,s)})),e.inner.fun("getTextY",(function(e,t){const n=t.y,i={start:n,end:n+e.size.height},s=e.inner.get("textSize").height,r=e.get("align").vertical;return"top"===r?L.alignStart(i,s):"middle"===r?L.alignMiddle(i,s):L.alignEnd(i,s)})),e.lifecycle.set("drawItself",(function(e,t){T.text(t,e.coords,e.size,e.inner.get("textCoords"),e.get("text"),e.get("font"),e.get("color"))}))}(),function(){const e=G.view.newType("image");e.set("size",{width:100,height:100}),e.set("src",""),e.inner.set("lastSrc",""),e.lifecycle.set("onCreate",(function(e){e.inner.set("img",new Image)})),e.lifecycle.set("onStart",(function(e){e.get("src")!==e.inner.get("lastSrc")&&(e.inner.get("img").src=e.get("src"))})),e.lifecycle.set("getSize",(function(e,t){return M.size(e.get("size"),t)})),e.lifecycle.set("drawItself",(function(e,t){T.image(t,e.coords,e.size,e.inner.get("img"))})),e.lifecycle.set("onEnd",(function(e){e.inner.set("lastSrc",e.get("src"))}))}()}function I(){const e=G.layout.newType("frame");e.set("size",{width:{unit:"%",value:100},height:{unit:"%",value:100}}),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.layoutParams.set("align",{horizontal:"left",vertical:"top"}),e.layoutParams.set("zIndex",0),e.layoutParams.set("margin",{top:0,right:0,bottom:0,left:0}),function(e){e.lifecycle.set("onMeasure",(function(e,t){const n=M.desiredSize(e.get("size"),t),i=M.availableSize(n,t),s={width:i.width-2*e.get("border").size,height:i.height-2*e.get("border").size};e.inner.set("desiredSize",n),e.inner.set("availableSize",i),e.inner.set("availableContentSize",s)})),e.lifecycle.set("getChildMaxSize",(function(e,t,n){const i=e.inner.get("availableContentSize"),s=n.layoutParams.get("margin");let r=i.width-s.left-s.right;r<0&&(r=0);let o=i.height-s.top-s.bottom;return o<0&&(o=0),{width:r,height:o}})),e.lifecycle.set("getSize",(function(e,t){const n=M.size(e.inner.get("desiredSize"),t,{width:()=>e.inner.call("getAutoWidth"),height:()=>e.inner.call("getAutoHeight")});return e.inner.set("contentSize",{width:n.width-2*e.get("border").size,height:n.height-2*e.get("border").size}),n})),e.inner.fun("getAutoWidth",(function(e){return e.children.reduce(((e,t)=>{const n=t.layoutParams.get("margin"),i=t.size.width+n.left+n.right;return e>i?e:i}),0)+2*e.get("border").size})),e.inner.fun("getAutoHeight",(function(e){return e.children.reduce(((e,t)=>{const n=t.layoutParams.get("margin"),i=t.size.height+n.top+n.bottom;return e>i?e:i}),0)+2*e.get("border").size}))}(e),function(e){e.lifecycle.set("onLocate",(function(e,t){e.inner.set("contentCoords",{x:t.x+e.get("border").size,y:t.y+e.get("border").size})})),e.lifecycle.set("getChildCoords",(function(e,t,n){return{x:e.inner.call("getChildX",n),y:e.inner.call("getChildY",n)}})),e.inner.fun("getChildX",(function(e,t){const n=e.inner.get("contentCoords").x,i={start:n,end:n+e.inner.get("contentSize").width},s=t.size.width,r={start:t.layoutParams.get("margin").left,end:t.layoutParams.get("margin").right},o=t.layoutParams.get("align").horizontal;return"left"===o?L.alignStart(i,s,r):"middle"===o?L.alignMiddle(i,s,r):L.alignEnd(i,s,r)})),e.inner.fun("getChildY",(function(e,t){const n=e.inner.get("contentCoords").y,i={start:n,end:n+e.inner.get("contentSize").height},s=t.size.height,r={start:t.layoutParams.get("margin").top,end:t.layoutParams.get("margin").bottom},o=t.layoutParams.get("align").vertical;return"top"===o?L.alignStart(i,s,r):"middle"===o?L.alignMiddle(i,s,r):L.alignEnd(i,s,r)}))}(e),function(e){e.lifecycle.set("drawItself",(function(e,t){const n=e.coords,i=e.size,s=e.get("background"),r=e.get("border"),o=e.get("corner");T.area(t,n,i,s,r,o)})),e.lifecycle.set("sortChildrenToDraw",(function(e){return[...e.children].sort(((e,t)=>e.layoutParams.get("zIndex")-t.layoutParams.get("zIndex")))}))}(e)}function E(){const e=G.layout.newType("linear");e.set("size",{width:{unit:"%",value:100},height:{unit:"%",value:100}}),e.set("direction","horizontal"),e.set("alignContent","middle"),e.set("alignItems","middle"),e.set("gap",0),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.layoutParams.set("position",0),e.layoutParams.set("alignSelf","auto"),e.layoutParams.set("margin",{top:0,right:0,bottom:0,left:0}),function(e){e.lifecycle.set("onStart",(function(e){const t="horizontal"===e.get("direction")||"reverse-horizontal"===e.get("direction"),n="reverse-horizontal"===e.get("direction")||"reverse-vertical"===e.get("direction"),i=[...e.children].sort(((e,t)=>e.layoutParams.get("position")-t.layoutParams.get("position")));n&&i.reverse(),e.inner.set("horizontal",t),e.inner.set("reverse",n),e.inner.set("sortedChildren",i)}))}(e),function(e){e.lifecycle.set("onMeasure",(function(e,t){const n=M.desiredSize(e.get("size"),t),i=M.availableSize(n,t),s={width:i.width-2*e.get("border").size,height:i.height-2*e.get("border").size};e.inner.set("desiredSize",n),e.inner.set("availableSize",i),e.inner.set("availableContentSize",s)})),e.lifecycle.set("sortChildrenToMeasure",(function(e){return e.inner.get("sortedChildren")})),e.lifecycle.set("getChildMaxSize",(function(e,t,n,i){return{width:e.inner.call("getChildMaxWidth",t,n,i),height:e.inner.call("getChildMaxHeight",t,n,i)}})),e.inner.fun("getChildMaxWidth",(function(e,t,n,i){const s=e.inner.get("horizontal"),r=e.inner.get("availableContentSize"),o=e.get("gap"),a=n.layoutParams.get("margin");if(s){const e=i.reduce(((e,t)=>{const n=t.size.width,i=t.layoutParams.get("margin");return e+n+i.left+i.right+o}),0);let t=r.width-e-a.left-a.right;return t<0&&(t=0),t}let l=r.width-a.left-a.right;return l<0&&(l=0),l})),e.inner.fun("getChildMaxHeight",(function(e,t,n,i){const s=e.inner.get("horizontal"),r=e.inner.get("availableContentSize"),o=e.get("gap"),a=n.layoutParams.get("margin");if(!s){const e=i.reduce(((e,t)=>{const n=t.size.height,i=t.layoutParams.get("margin");return e+n+i.top+i.bottom+o}),0);let t=r.height-e-a.top-a.bottom;return t<0&&(t=0),t}let l=r.height-a.top-a.bottom;return l<0&&(l=0),l})),e.lifecycle.set("getSize",(function(e,t){const n=e.inner.call("getChildrenSize"),i=M.size(e.inner.get("desiredSize"),t,{width:()=>n.width+2*e.get("border").size,height:()=>n.height+2*e.get("border").size}),s={width:i.width-2*e.get("border").size,height:i.height-2*e.get("border").size};return e.inner.set("childrenSize",n),e.inner.set("contentSize",s),i})),e.inner.fun("getChildrenSize",(function(e){return{width:e.inner.call("getChildrenWidth"),height:e.inner.call("getChildrenHeight")}})),e.inner.fun("getChildrenWidth",(function(e){if(e.inner.get("horizontal")){const t=e.get("gap");return e.children.reduce(((e,n,i)=>{const s=n.layoutParams.get("margin"),r=n.size.width;return 0===i?e+r+s.left+s.right:e+r+s.left+s.right+t}),0)}return e.children.reduce(((e,t)=>{const n=t.layoutParams.get("margin"),i=t.size.width+n.left+n.right;return e>i?e:i}),0)})),e.inner.fun("getChildrenHeight",(function(e){if(!e.inner.get("horizontal")){const t=e.get("gap");return e.children.reduce(((e,n,i)=>{const s=n.layoutParams.get("margin"),r=n.size.height;return 0===i?e+r+s.top+s.bottom:e+r+s.top+s.bottom+t}),0)}return e.children.reduce(((e,t)=>{const n=t.layoutParams.get("margin"),i=t.size.height+n.top+n.bottom;return e>i?e:i}),0)}))}(e),function(e){e.lifecycle.set("onLocate",(function(e,t){const n={x:t.x+e.get("border").size,y:t.y+e.get("border").size},i=e.inner.call("getChildrenCoord",n);e.inner.set("contentCoords",n),e.inner.set("childrenCoord",i)})),e.inner.fun("getChildrenCoord",(function(e,t){const n=e.inner.get("horizontal"),i=e.inner.get("contentSize"),s=e.inner.get("childrenSize"),r=e.get("alignContent");if(n){const e=s.width,n={start:t.x,end:t.x+i.width};return"start"===r?L.alignStart(n,e):"middle"===r?L.alignMiddle(n,e):L.alignEnd(n,e)}const o=s.height,a={start:t.y,end:t.y+i.height};return"start"===r?L.alignStart(a,o):"middle"===r?L.alignMiddle(a,o):L.alignEnd(a,o)})),e.lifecycle.set("sortChildrenToLocate",(function(e){return e.inner.get("sortedChildren")})),e.lifecycle.set("getChildCoords",(function(e,t,n,i){return{x:e.inner.call("getChildX",n,i),y:e.inner.call("getChildY",n,i)}})),e.inner.fun("getChildX",(function(e,t,n){if(e.inner.get("horizontal")){const i=0===n.length,s=t.layoutParams.get("margin");if(i)return e.inner.get("childrenCoord")+s.left;const r=n[n.length-1],o=e.get("gap");return r.coords.x+r.size.width+r.layoutParams.get("margin").right+o+s.left}const i=e.inner.get("contentCoords"),s=e.inner.get("contentSize"),r={start:i.x,end:i.x+s.width},o=t.size.width,a={start:t.layoutParams.get("margin").left,end:t.layoutParams.get("margin").right},l=e.get("alignItems"),c=t.layoutParams.get("alignSelf"),h="auto"===c?l:c;return"start"===h?L.alignStart(r,o,a):"middle"===h?L.alignMiddle(r,o,a):L.alignEnd(r,o,a)})),e.inner.fun("getChildY",(function(e,t,n){if(!e.inner.get("horizontal")){const i=0===n.length,s=t.layoutParams.get("margin");if(i)return e.inner.get("childrenCoord")+s.top;const r=n[n.length-1],o=e.get("gap");return r.coords.y+r.size.height+r.layoutParams.get("margin").bottom+o+s.top}const i=e.inner.get("contentCoords"),s=e.inner.get("contentSize"),r={start:i.y,end:i.y+s.height},o=t.size.height,a={start:t.layoutParams.get("margin").top,end:t.layoutParams.get("margin").bottom},l=e.get("alignItems"),c=t.layoutParams.get("alignSelf"),h="auto"===c?l:c;return"start"===h?L.alignStart(r,o,a):"middle"===h?L.alignMiddle(r,o,a):L.alignEnd(r,o,a)}))}(e),function(e){e.lifecycle.set("drawItself",(function(e,t){const n=e.coords,i=e.size,s=e.get("background"),r=e.get("border"),o=e.get("corner");T.area(t,n,i,s,r,o)}))}(e)}function R(){const e=G.layout.newType("grid");e.set("size",{width:{unit:"%",value:100},height:{unit:"%",value:100}}),e.set("dimensions",{columns:[{count:1,unit:"fr",value:1}],rows:[{count:1,unit:"fr",value:1}]}),e.set("gap",{size:{vertical:0,horizontal:0},color:"rgba(0,0,0,0)"}),e.set("alignContent",{vertical:"middle",horizontal:"middle"}),e.set("alignItems",{vertical:"middle",horizontal:"middle"}),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.layoutParams.set("position",{column:0,row:0}),e.layoutParams.set("span",{columns:1,rows:1}),e.layoutParams.set("alignSelf",{vertical:"auto",horizontal:"auto"}),e.layoutParams.set("zIndex",0),e.layoutParams.set("margin",{top:0,right:0,bottom:0,left:0}),function(e){e.inner.fun("areChildCellsValid",(function(e,t){const n=t.layoutParams.get("position"),i=t.layoutParams.get("span"),s=e.inner.get("numColumns"),r=e.inner.get("numRows");return!(n.column<0||n.row<0||i.columns<1||i.rows<1||n.column+i.columns-1>=s||n.row+i.rows-1>=r)}))}(e),function(e){e.lifecycle.set("onStart",(function(e){const t=e.get("dimensions"),n=t.columns,i=t.rows,s=n.reduce(((e,t)=>e+t.count),0),r=i.reduce(((e,t)=>e+t.count),0);e.inner.set("numColumns",s),e.inner.set("numRows",r)}))}(e),function(e){e.lifecycle.set("onMeasure",(function(e,t){const n=M.desiredSize(e.get("size"),t);e.inner.set("desiredSize",n);const i=M.availableSize(n,t);e.inner.set("availableSize",i);const s={width:i.width-2*e.get("border").size,height:i.height-2*e.get("border").size};e.inner.set("availableContentSize",s);const r=e.inner.call("getColumnsWidths");e.inner.set("columnsWidths",r);const o=e.inner.call("getRowsHeights");e.inner.set("rowsHeights",o);const a=e.inner.call("getGridSize");e.inner.set("gridSize",a)})),e.inner.fun("getColumnsWidths",(function(e){const t=e.get("dimensions").columns,n=e.inner.get("availableContentSize").width,i=e.get("gap").size.horizontal;return e.inner.call("getPositionsLengths",t,n,i)})),e.inner.fun("getRowsHeights",(function(e){const t=e.get("dimensions").rows,n=e.inner.get("availableContentSize").height,i=e.get("gap").size.vertical;return e.inner.call("getPositionsLengths",t,n,i)})),e.inner.fun("getPositionsLengths",(function(e,t,n,i){const s=t.reduce(((e,t)=>t.count+e),0);if(0===s)return[];let r=n-i*(s-1);r<0&&(r=0);const o=t.reduce(((e,t)=>"px"===t.unit?e+t.count*t.value:e),0),a=(r-(o<r?o:r))/t.reduce(((e,t)=>"fr"===t.unit?e+t.count*t.value:e),0),l=[];let c=r;for(let e=0;e<t.length;e++){const{count:n,unit:i,value:s}=t[e];for(let e=0;e<n;e++){let e;e="px"===i?s<c?s:c:a*s,l.push(e),c-=e}}return l})),e.inner.fun("getGridSize",(function(e){const t=e.inner.get("numColumns"),n=e.inner.get("numRows"),i=e.inner.get("columnsWidths"),s=e.inner.get("rowsHeights"),r=i.reduce(((e,t)=>e+t),0),o=s.reduce(((e,t)=>e+t),0);return{width:r+e.get("gap").size.horizontal*(t-1),height:o+e.get("gap").size.vertical*(n-1)}})),e.lifecycle.set("getChildMaxSize",(function(e,t,n){const i=e.get("gap").size,s=e.inner.get("columnsWidths"),r=e.inner.get("rowsHeights"),o=n.layoutParams.get("position"),a=n.layoutParams.get("span"),l=n.layoutParams.get("margin");return e.inner.call("areChildCellsValid",n)?{width:s.slice(o.column,o.column+a.columns).reduce(((e,t)=>e+t+i.horizontal),0)-i.horizontal-(l.left+l.right),height:r.slice(o.row,o.row+a.rows).reduce(((e,t)=>e+t+i.vertical),0)-i.vertical-(l.top+l.bottom)}:{width:0,height:0}})),e.lifecycle.set("getSize",(function(e,t){const n=M.size(e.inner.get("desiredSize"),t,{width:()=>e.inner.get("gridSize").width+2*e.get("border").size,height:()=>e.inner.get("gridSize").height+2*e.get("border").size}),i={width:n.width-2*e.get("border").size,height:n.height-2*e.get("border").size};return e.inner.set("contentSize",i),n}))}(e),function(e){e.lifecycle.set("onLocate",(function(e,t){const n={x:t.x+e.get("border").size,y:t.y+e.get("border").size};e.inner.set("contentCoords",n);const i=e.inner.call("getGridCoords");e.inner.set("gridCoords",i);const s=e.inner.call("getColumnsCoords");e.inner.set("columnsCoords",s);const r=e.inner.call("getRowsCoords");e.inner.set("rowsCoords",r)})),e.inner.fun("getGridCoords",(function(e){return{x:e.inner.call("getGridX"),y:e.inner.call("getGridY")}})),e.inner.fun("getGridX",(function(e){const t=e.inner.get("contentCoords"),n=e.inner.get("contentSize"),i=e.inner.get("gridSize"),s={start:t.x,end:t.x+n.width},r=i.width,o=e.get("alignContent").horizontal;return"left"===o?L.alignStart(s,r):"middle"===o?L.alignMiddle(s,r):L.alignEnd(s,r)})),e.inner.fun("getGridY",(function(e){const t=e.inner.get("contentCoords"),n=e.inner.get("contentSize"),i=e.inner.get("gridSize"),s={start:t.y,end:t.y+n.height},r=i.height,o=e.get("alignContent").vertical;return"top"===o?L.alignStart(s,r):"middle"===o?L.alignMiddle(s,r):L.alignEnd(s,r)})),e.inner.fun("getColumnsCoords",(function(e){const t=e.inner.get("gridCoords").x,n=e.inner.get("columnsWidths"),i=e.get("gap").size.horizontal;return e.inner.call("getPositionsCoords",t,n,i)})),e.inner.fun("getRowsCoords",(function(e){const t=e.inner.get("gridCoords").y,n=e.inner.get("rowsHeights"),i=e.get("gap").size.vertical;return e.inner.call("getPositionsCoords",t,n,i)})),e.inner.fun("getPositionsCoords",(function(e,t,n,i){const s=[];let r=t;for(const e of n)s.push(r),r+=e+i;return s})),e.lifecycle.set("getChildCoords",(function(e,t,n){return e.inner.call("areChildCellsValid",n)?{x:e.inner.call("getChildX",n),y:e.inner.call("getChildY",n)}:{x:0,y:0}})),e.inner.fun("getChildX",(function(e,t){const n=t.layoutParams.get("position").column,i=t.layoutParams.get("span").columns,s=e.get("gap").size.horizontal,r=e.inner.get("columnsCoords"),o=e.inner.get("columnsWidths"),a=r[n],l={start:a,end:a+(o.slice(n,n+i).reduce(((e,t)=>e+t+s),0)-s)},c=t.size.width,h={start:t.layoutParams.get("margin").left,end:t.layoutParams.get("margin").right},g=e.get("alignItems").horizontal,u=t.layoutParams.get("alignSelf").horizontal,d="auto"===u?g:u;return"left"===d?L.alignStart(l,c,h):"middle"===d?L.alignMiddle(l,c,h):L.alignEnd(l,c,h)})),e.inner.fun("getChildY",(function(e,t){const n=t.layoutParams.get("position").row,i=t.layoutParams.get("span").rows,s=e.get("gap").size.vertical,r=e.inner.get("rowsCoords"),o=e.inner.get("rowsHeights"),a=r[n],l={start:a,end:a+(o.slice(n,n+i).reduce(((e,t)=>e+t+s),0)-s)},c=t.size.height,h={start:t.layoutParams.get("margin").top,end:t.layoutParams.get("margin").bottom},g=e.get("alignItems").vertical,u=t.layoutParams.get("alignSelf").vertical,d="auto"===u?g:u;return"left"===d?L.alignStart(l,c,h):"middle"===d?L.alignMiddle(l,c,h):L.alignEnd(l,c,h)}))}(e),function(e){e.lifecycle.set("drawItself",(function(e,t){e.inner.call("drawArea",t),e.inner.call("drawGaps",t)})),e.inner.fun("drawArea",(function(e,t){const n=e.coords,i=e.size,s=e.get("background"),r=e.get("border"),o=e.get("corner");T.area(t,n,i,s,r,o)})),e.inner.fun("drawGaps",(function(e,t){e.inner.call("drawHorizontalGaps",t),e.inner.call("drawVerticalGaps",t)})),e.inner.fun("drawHorizontalGaps",(function(e,t){const n=e.inner.get("gridCoords"),i=e.inner.get("gridSize"),s=e.get("gap").size,r=e.get("gap").color,o=e.inner.get("rowsCoords");for(let e=1;e<o.length;e++){const a={x:n.x,y:o[e]-s.vertical},l={width:i.width,height:s.vertical};T.rectangle(t,a,l,r)}})),e.inner.fun("drawVerticalGaps",(function(e,t){const n=e.inner.get("gridCoords"),i=e.inner.get("gridSize"),s=e.get("gap").size,r=e.get("gap").color,o=e.inner.get("columnsCoords");for(let e=1;e<o.length;e++){const a={x:o[e]-s.horizontal,y:n.y},l={width:s.horizontal,height:i.height};T.rectangle(t,a,l,r)}})),e.lifecycle.set("sortChildrenToDraw",(function(e){return[...e.children].sort(((e,t)=>e.layoutParams.get("zIndex")-t.layoutParams.get("zIndex")))}))}(e)}function F(){const e=G.layout.newType("relative");e.set("size",{width:{unit:"%",value:100},height:{unit:"%",value:100}}),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.layoutParams.set("attachTo",{top:null,right:null,bottom:null,left:null}),e.layoutParams.set("bias",{vertical:50,horizontal:50}),e.layoutParams.set("zIndex",0),e.layoutParams.set("margin",{top:0,right:0,bottom:0,left:0}),function(e){e.inner.fun("getChildMaxLeft",(function(e,t){const n=t.layoutParams.get("attachTo").left;if(null===n||"parent"===n)return e.get("border").size;const{side:i,child:s}=n,r=e.find(s);return"left"===i?e.inner.call("getChildLeft",r):e.inner.call("getChildRight",r)})),e.inner.fun("getChildMaxRight",(function(e,t){const n=t.layoutParams.get("attachTo").right;if(null===n||"parent"===n)return e.inner.get("size").width-e.get("border").size;const{side:i,child:s}=n,r=e.find(s);return"left"===i?e.inner.call("getChildLeft",r):e.inner.call("getChildRight",r)})),e.inner.fun("getChildMaxTop",(function(e,t){const n=t.layoutParams.get("attachTo").top;if(null===n||"parent"===n)return e.get("border").size;const{side:i,child:s}=n,r=e.find(s);return"top"===i?e.inner.call("getChildTop",r):e.inner.call("getChildBottom",r)})),e.inner.fun("getChildMaxBottom",(function(e,t){const n=t.layoutParams.get("attachTo").bottom;if(null===n||"parent"===n)return e.inner.get("size").height-e.get("border").size;const{side:i,child:s}=n,r=e.find(s);return"top"===i?e.inner.call("getChildTop",r):e.inner.call("getChildBottom",r)})),e.inner.fun("getChildLeft",(function(e,t){const n=t.layoutParams.get("attachTo"),i=t.layoutParams.get("margin"),s=e.inner.call("getChildMaxLeft",t),r=e.inner.call("getChildMaxRight",t),o=t.size.width;if(null===n.right)return s+i.left;if(null===n.left)return r-i.right-o;const a={start:s,end:r},l=t.layoutParams.get("bias").horizontal;return e.inner.call("getCoordUsingBias",a,o,l,{start:i.left,end:i.right})})),e.inner.fun("getChildRight",(function(e,t){return e.inner.call("getChildLeft",t)+t.size.width})),e.inner.fun("getChildTop",(function(e,t){const n=t.layoutParams.get("attachTo"),i=t.layoutParams.get("margin"),s=e.inner.call("getChildMaxTop",t),r=e.inner.call("getChildMaxBottom",t),o=t.size.height;if(null===n.bottom)return s+i.top;if(null===n.top)return r-i.bottom-o;const a={start:s,end:r},l=t.layoutParams.get("bias").vertical;return e.inner.call("getCoordUsingBias",a,o,l,{start:i.top,end:i.bottom})})),e.inner.fun("getChildBottom",(function(e,t){return e.inner.call("getChildTop",t)+t.size.height})),e.inner.fun("getCoordUsingBias",(function(e,t,n,i,s){return t.start+(t.end-t.start-(n+s.start+s.end))*(i/100)+s.start}))}(e),function(e){e.lifecycle.set("onStart",(function(e){const t=e.inner.call("getSortedPositionedChildren"),n=e.children.filter((e=>!t.includes(e))),i=[...t,...n];e.inner.set("sortedChildren",i),e.inner.set("notPositionedChildren",n)})),e.inner.fun("getSortedPositionedChildren",(function(e){const t=[],n=[...e.children];for(;n.length>0;){let i=!1;for(let s=0;s<n.length;s++){const r=n[s];e.inner.call("canPositionChild",t,r)&&(t.push(r),n.splice(s,1),s--,i=!0)}if(!i)break}return t})),e.inner.fun("canPositionChild",(function(e,t,n){const{top:i,bottom:s,right:r,left:o}=n.layoutParams.get("attachTo");for(const n of[i,s,r,o])if(null!==n&&"parent"!==n&&!t.includes(e.find(n.child)))return!1;return!0}))}(e),function(e){e.lifecycle.set("onMeasure",(function(e,t){const n=M.desiredSize(e.get("size"),t),i=M.availableSize(n,t);e.inner.set("desiredSize",n),e.inner.set("size",i)})),e.lifecycle.set("sortChildrenToMeasure",(function(e){return e.inner.get("sortedChildren")})),e.lifecycle.set("getChildMaxSize",(function(e,t,n){if(e.inner.get("notPositionedChildren").includes(n))return{width:0,height:0};const i=n.layoutParams.get("margin");let s=e.inner.call("getChildMaxRight",n)-e.inner.call("getChildMaxLeft",n)-i.left-i.right;s<0&&(s=0);let r=e.inner.call("getChildMaxBottom",n)-e.inner.call("getChildMaxTop",n)-i.top-i.bottom;return r<0&&(r=0),{width:s,height:r}})),e.lifecycle.set("getSize",(function(e){return e.inner.get("size")}))}(e),function(e){e.lifecycle.set("sortChildrenToLocate",(function(e){return e.inner.get("sortedChildren")})),e.lifecycle.set("getChildCoords",(function(e,t,n){return e.inner.get("notPositionedChildren").includes(n)?{x:0,y:0}:{x:e.inner.call("getChildLeft",n)+t.x,y:e.inner.call("getChildTop",n)+t.y}}))}(e),function(e){e.lifecycle.set("drawItself",(function(e,t){const n=e.coords,i=e.size,s=e.get("background"),r=e.get("border"),o=e.get("corner");T.area(t,n,i,s,r,o)})),e.lifecycle.set("sortChildrenToDraw",(function(e){return[...e.children].sort(((e,t)=>e.layoutParams.get("zIndex")-t.layoutParams.get("zIndex")))}))}(e)}function D(){!function(){const e=G.composite.newType("textArea");e.set("size",{width:"auto",height:"auto"}),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.set("text","Text"),e.set("font",{size:16,family:"Courier New",weight:400}),e.set("color","#000"),e.set("align",{vertical:"middle",horizontal:"middle"}),e.set("margin",{top:0,right:0,bottom:0,left:0}),e.lifecycle.set("getElement",(function(){const e=G.layout.new("frame","frame"),t=G.view.new("text","text");return e.insert(t),e})),e.lifecycle.set("updateElement",(function(e,t){t.set("size",e.get("size")),t.set("background",e.get("background")),t.set("border",e.get("border")),t.set("corner",e.get("corner"));const n=t.find("text");n.set("text",e.get("text")),n.set("font",e.get("font")),n.set("color",e.get("color")),n.set("align",e.get("align")),n.layoutParams.set("align",e.get("align")),n.layoutParams.set("margin",e.get("margin"))}))}(),function(){const e=G.composite.newType("imageArea");e.set("size",{width:"auto",height:"auto"}),e.set("background","rgba(0,0,0,0)"),e.set("border",{color:"#000",size:0}),e.set("corner",{type:"cut",size:0}),e.set("imageSize",{width:100,height:100}),e.set("imageSrc",""),e.set("align",{vertical:"middle",horizontal:"middle"}),e.set("margin",{top:0,right:0,bottom:0,left:0}),e.lifecycle.set("getElement",(function(){const e=G.layout.new("frame","frame"),t=G.view.new("image","image");return e.insert(t),e})),e.lifecycle.set("updateElement",(function(e,t){t.set("size",e.get("size")),t.set("background",e.get("background")),t.set("border",e.get("border")),t.set("corner",e.get("corner"));const n=t.find("image");n.set("size",e.get("imageSize")),n.set("src",e.get("imageSrc")),n.layoutParams.set("align",e.get("align")),n.layoutParams.set("margin",e.get("margin"))}))}()}const _=new Map,A=new Map,H=new Map,G={ui:{new:e=>new t(e)},view:{newType(e){const t=new a(e);return _.set(e,t),t},new(e,t){const n=_.get(t);return new S(e,n)}},layout:{newType(e){const t=new c(e);return A.set(e,t),t},new(e,t){const n=A.get(t);return new P(e,n)}},composite:{newType(e){const t=new u(e);return H.set(e,t),t},new(e,t){const n=H.get(t);return new b(e,n)}}};k(),I(),E(),R(),F(),D();export{b as Composite,u as CompositeType,x as Element,r as ElementType,P as Layout,c as LayoutType,w as State,t as UI,S as View,a as ViewType,G as default};
//# sourceMappingURL=index.esm.js.map
